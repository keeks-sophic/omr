{"Timestamp":"2026-01-31T18:38:56.3758994+08:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","RenderedMessage":"User profile is available. Using '\"C:\\Users\\SA-SI-GFWP6G3\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\SA-SI-GFWP6G3\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2026-01-31T18:38:56.6086147+08:00","Level":"Error","MessageTemplate":"Hosting failed to start","RenderedMessage":"Hosting failed to start","Exception":"NATS.Client.JetStream.NATSJetStreamException: subjects overlap with an existing stream [10065]\r\n   at NATS.Client.JetStream.ApiResponse.ThrowOnHasError()\r\n   at NATS.Client.JetStream.ApiResponse.InitJson(String json, Boolean throwOnError)\r\n   at NATS.Client.JetStream.ApiResponse..ctor(Msg msg, Boolean throwOnError, Boolean ignoreMessage)\r\n   at NATS.Client.JetStream.StreamInfo..ctor(Msg msg, Boolean throwOnError)\r\n   at NATS.Client.JetStream.JetStreamBase.CreateAndCacheStreamInfoThrowOnError(String streamName, Msg resp)\r\n   at NATS.Client.JetStream.JetStreamManagement.AddOrUpdateStream(StreamConfiguration config, String addUpdateTemplate)\r\n   at NATS.Client.JetStream.JetStreamManagement.AddStream(StreamConfiguration config)\r\n   at BackendV3.Workers.NatsJetStreamSetupWorker.EnsureStream(IJetStreamManagement jsm, String name, String[] subjects) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Workers\\NatsJetStreamSetupWorker.cs:line 55\r\n   at BackendV3.Workers.NatsJetStreamSetupWorker.StartAsync(CancellationToken cancellationToken) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Workers\\NatsJetStreamSetupWorker.cs:line 22\r\n   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)","Properties":{"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}}
{"Timestamp":"2026-01-31T18:40:24.0510255+08:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","RenderedMessage":"User profile is available. Using '\"C:\\Users\\SA-SI-GFWP6G3\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\SA-SI-GFWP6G3\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2026-01-31T18:40:24.2523626+08:00","Level":"Error","MessageTemplate":"Hosting failed to start","RenderedMessage":"Hosting failed to start","Exception":"NATS.Client.JetStream.NATSJetStreamException: subjects overlap with an existing stream [10065]\r\n   at NATS.Client.JetStream.ApiResponse.ThrowOnHasError()\r\n   at NATS.Client.JetStream.ApiResponse.InitJson(String json, Boolean throwOnError)\r\n   at NATS.Client.JetStream.ApiResponse..ctor(Msg msg, Boolean throwOnError, Boolean ignoreMessage)\r\n   at NATS.Client.JetStream.StreamInfo..ctor(Msg msg, Boolean throwOnError)\r\n   at NATS.Client.JetStream.JetStreamBase.CreateAndCacheStreamInfoThrowOnError(String streamName, Msg resp)\r\n   at NATS.Client.JetStream.JetStreamManagement.AddOrUpdateStream(StreamConfiguration config, String addUpdateTemplate)\r\n   at NATS.Client.JetStream.JetStreamManagement.AddStream(StreamConfiguration config)\r\n   at BackendV3.Workers.NatsJetStreamSetupWorker.EnsureStream(IJetStreamManagement jsm, String name, String[] subjects) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Workers\\NatsJetStreamSetupWorker.cs:line 57\r\n   at BackendV3.Workers.NatsJetStreamSetupWorker.StartAsync(CancellationToken cancellationToken) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Workers\\NatsJetStreamSetupWorker.cs:line 22\r\n   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)","Properties":{"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}}
{"Timestamp":"2026-01-31T18:41:24.0109394+08:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","RenderedMessage":"User profile is available. Using '\"C:\\Users\\SA-SI-GFWP6G3\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\SA-SI-GFWP6G3\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2026-01-31T18:41:24.2739406+08:00","Level":"Error","MessageTemplate":"BackgroundService failed","RenderedMessage":"BackgroundService failed","Exception":"NATS.Client.NATSJetStreamClientException: [SUB-90007] No matching streams for subject.\r\n   at NATS.Client.JetStream.JetStream.CreateSubscription(String userSubscribeSubject, PushSubscribeOptions pushSubscribeOptions, PullSubscribeOptions pullSubscribeOptions, String queueName, EventHandler`1 userHandler, Boolean autoAck, PullMessageManager pmmInstance)\r\n   at NATS.Client.JetStream.JetStream.PushSubscribeAsync(String subject, EventHandler`1 handler, Boolean autoAck, PushSubscribeOptions options)\r\n   at BackendV3.Modules.Robots.Worker.RobotsNatsIngestWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Modules\\Robots\\Worker\\RobotsNatsIngestWorker.cs:line 34\r\n   at System.Threading.Tasks.Task`1.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)","Properties":{"EventId":{"Id":9,"Name":"BackgroundServiceFaulted"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}}
{"Timestamp":"2026-01-31T18:41:24.3071278+08:00","Level":"Fatal","MessageTemplate":"The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.","RenderedMessage":"The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.","Exception":"NATS.Client.NATSJetStreamClientException: [SUB-90007] No matching streams for subject.\r\n   at NATS.Client.JetStream.JetStream.CreateSubscription(String userSubscribeSubject, PushSubscribeOptions pushSubscribeOptions, PullSubscribeOptions pullSubscribeOptions, String queueName, EventHandler`1 userHandler, Boolean autoAck, PullMessageManager pmmInstance)\r\n   at NATS.Client.JetStream.JetStream.PushSubscribeAsync(String subject, EventHandler`1 handler, Boolean autoAck, PushSubscribeOptions options)\r\n   at BackendV3.Modules.Robots.Worker.RobotsNatsIngestWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Modules\\Robots\\Worker\\RobotsNatsIngestWorker.cs:line 34\r\n   at System.Threading.Tasks.Task`1.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)","Properties":{"EventId":{"Id":10,"Name":"BackgroundServiceStoppingHost"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}}
{"Timestamp":"2026-01-31T18:41:24.3117716+08:00","Level":"Information","MessageTemplate":"Application is shutting down...","RenderedMessage":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2026-01-31T18:41:24.3729727+08:00","Level":"Error","MessageTemplate":"Hosting failed to start","RenderedMessage":"Hosting failed to start","Exception":"System.Threading.Tasks.TaskCanceledException: A task was canceled.\r\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|209_0(NpgsqlConnector conn, String username, SslMode sslMode, GssEncryptionMode gssEncMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\r\n   at BackendV3.Infrastructure.Persistence.Init.DatabaseInitService.EnsureDatabaseExistsAsync(String connectionString, CancellationToken ct) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Infrastructure\\Persistence\\Init\\DatabaseInitService.cs:line 72\r\n   at BackendV3.Infrastructure.Persistence.Init.DatabaseInitService.EnsureDatabaseExistsAsync(String connectionString, CancellationToken ct) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Infrastructure\\Persistence\\Init\\DatabaseInitService.cs:line 93\r\n   at BackendV3.Infrastructure.Persistence.Init.DatabaseInitService.StartAsync(CancellationToken cancellationToken) in C:\\Users\\SA-SI-GFWP6G3\\Documents\\skylink\\newsky\\backendV3\\Infrastructure\\Persistence\\Init\\DatabaseInitService.cs:line 27\r\n   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)","Properties":{"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}}
